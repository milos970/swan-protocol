<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" th:href="@{/css/style.css}">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
            crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.0.0/jquery.min.js"></script>
    <title>Update</title>
</head>
<body class="update-user-body" onload="ajax()">

<header>

    <nav class="navbar navbar-expand-lg bg-primary navbar-light" style="background-color: #e3f2fd">
        <div class="container-fluid">

            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNavDropdown">
                <ul class="navbar-nav ms-auto">

                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" role="button" data-bs-toggle="dropdown" aria-expanded="false" th:text="${name}">

                        </a>
                        <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="navbarDropdownMenuLink">
                            <li><a class="dropdown-item" th:href="@{/user/home}">Home</a></li>
                            <li><a class="dropdown-item" th:href="@{/user/update-page}">Update</a></li>
                            <li><a class="dropdown-item" th:href="@{/user/delete/{id}(id=${user.id})}">Delete the account</a></li>
                            <li><a class="dropdown-item" th:href="@{/user/logout}">Logout</a></li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
    </nav>


</header>

<section id="third">
    <div class="container h-200" >
        <div class="row d-flex justify-content-center align-items-center h-100">
            <div class="col-12 col-md-9 col-lg-7 col-xl-6">
                <div class="card" style="border-radius: 15px;">
                    <div class="card-body p-5">
                        <h2 class="text-uppercase text-center mb-5">Update</h2>

                        <form id="form" th:action="@{/user/update-user/{id}(id=${user.id})}" th:object="${user}"  method="post">

                            <div class="form-outline mb-4">
                                <label class="form-label" for="form3Example1cg">Name</label>
                                <input type="text" th:field="*{username}" onInput=usernameValidation() name="Name" id="form3Example1cg"
                                       class="form-control form-control-lg"/>
                                <p id="username-hint">&#8203;</p>
                                <p th:if="${#fields.hasErrors('username')}" th:errors="*{username}">Name Error </p>
                            </div>


                            <div class="form-outline mb-4">
                                <label class="form-label" for="form3Example3cg">Email</label>
                                <input type="text" th:field="*{email}" onInput=emailValidation() name="Email"
                                       id="form3Example3cg"
                                       class="form-control form-control-lg"/>
                                <p id="email-hint">&#8203;</p>
                                <p th:if="${#fields.hasErrors('email')}" th:errors="*{email}">Email Error </p>
                            </div>

                            <div class="form-outline mb-4">
                                <label class="form-label" for="form3Example4cg">Password</label>
                                <input type="password" th:field="*{password}" onInput=passwordValidation() name="Pass" id="form3Example4cg"
                                       class="form-control form-control-lg"/>
                                <p id="password-hint">&#8203;</p>
                                <p th:if="${#fields.hasErrors('password')}" th:errors="*{password}">Password Error </p>
                            </div>

                            <div class="form-outline mb-4">
                                <label class="form-label" for="form3Example4cdg">Confirm password</label>
                                <input type="password" onInput=repPasswordValidation() name="rep" id="form3Example4cdg"
                                       class="form-control form-control-lg"/>
                                <p id="rep-password-hint">&#8203;</p>
                            </div>

                            <div class="flex-columns">
                                <div class="column">
                                    <ul>
                                        <li id="lowerCase">One lowercase character</li>
                                        <li id="upperCase">One uppercase character</li>
                                        <li id="oneNumber">One number</li>
                                    </ul>
                                </div>
                                <div class="column">
                                    <ul>
                                        <li id="specialCharacter">One special character</li>
                                        <li id="range">12 characters minimum</li>
                                    </ul>
                                </div>
                            </div>


                            <div class="d-flex justify-content-center">
                                <button class="btn btn-outline-primary btn-lg px-5" id="submitBut" type="submit"
                                        value="Submit">Create
                                </button>
                            </div>
                        </form>

                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<script th:src="@{/js/validate.js}"></script>
</body>
</html>